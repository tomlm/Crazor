@using SharedCards.Cards.TaskModule
@inherits CardView<TaskModuleApp>
@attribute [CommandInfo("Test Task Module", "Test general task module functionality")]
@attribute [TaskInfo("Test Task Module", "small", "small")]
<Card Version="1.4" Title="Test Task Module Functionality">
    <TextBlock>Counter: @App.Counter</TextBlock>
    <InputChoiceSet Binding="TaskAction" Style="AdaptiveChoiceInputStyle.Expanded" Value="Auto"/>

    <ActionExecute Verb="@nameof(OnIncrement)" Title="Increment" />

    <ActionCancel />
    <ActionOK />
</Card>

@code {

    // [BindProperty]
    public TaskModuleAction TaskAction { get; set; }

    public void OnIncrement() => App.Counter++;

    public void OnOK()
    {
        CloseTaskModule(TaskAction);
        CloseView();
    }

    public void OnCancel()
    {
        CloseTaskModule(Crazor.TaskModuleAction.None);
    }
}
