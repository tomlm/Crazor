@using OpBot
@using OpBot.Cards.Planner
@using System.Text;
@using System.Net.Http;
@using Newtonsoft.Json;

@inherits CardView<PlannerApp, EditModel>

<Card Version="1.5">

    <TextBlock Size="Large" Weight="Bolder">Create Task</TextBlock>

    <ColumnSet Style="Accent">
        <Column Width="Auto" VerticalContentAlignment="Center">
            <TextBlock>💡</TextBlock>
        </Column>
        <Column>
            <TextBlock Wrap="true" Size="Small">Some task details have been added automatically.</TextBlock>
        </Column>
    </ColumnSet>

    <Action.Execute Verb="@nameof(OnSave)" Style="Positive" Title="Create Task"></Action.Execute>
</Card>

@functions {
    [BindProperty]
    [Required]
    public string? Bucket { get; set; } = "To do";

    [BindProperty]
    [Required]
    public string? Progress { get; set; } = "Not started";

    [BindProperty]
    [Required]
    public string? Priority { get; set; } = "Medium";

    [BindProperty]
    public string? Notes { get; set; }

    [BindProperty]
    public string? StartDate { get; set; }

    [BindProperty]
    public string? DueDate { get; set; }

    public async Task OnSave()
    {
        if (!IsModelValid)
            return;

        //ShowCard("Details", this);
    }
}