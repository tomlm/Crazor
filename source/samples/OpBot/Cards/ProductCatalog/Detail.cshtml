@using OpBot.Cards.ProductCatalog
@inherits CardView<DetailProductCatalogModel>

<Card xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="1.5">
    

    <TextBlock Size="extraLarge" Weight="bolder">@ItemName</TextBlock>

    <TextBlock Size="medium" Id="DescriptionHeading" Label="Description" />
    <TextBlock Id="Description" Label="DescriptionLabel">@Description</TextBlock>

    <TextBlock Size="medium" Id="PriceHeading" Label="Price" />
    <TextBlock Id="Price" Label="PriceLabel">@Price</TextBlock>

    <Image Url="@PictureUri" />

    <Action.Execute Title="Go Back" Verb="OnCancel" />
</Card>

@functions {

    [BindProperty]
    [Required]
    [MaxLength(100)]
    public string? ItemName { get; set; }

    [BindProperty]
    [Required]
    [MaxLength(100)]
    public string? Description { get; set; }

    [BindProperty]
    [Required]
    public decimal Price { get; set; }

    [BindProperty]
    [Required]
    [MaxLength(100)]
    public string? PictureUri { get; set; }

    public void OnInitialize()
    {
        if (Model.Item != null)
        {
            ItemName = Model.Item.Name;
            Description = Model.Item.Description;
            Price = Model.Item.Price;
            PictureUri = Model.Item.PictureUri;
        }
    }

    public void OnCancel()
    {
        this.Cancel();
    }
}