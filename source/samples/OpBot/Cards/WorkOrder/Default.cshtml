@using OpBot.Cards.WorkOrder

@inherits CardView<WorkOrderApp>

<Card Version="1.5">

    <Action.Execute Verb="OnCreate" Title="Create Work Order"></Action.Execute>
</Card>

@functions {

    public void OnCreate()
    {
        ShowCard("QuickCreate", new WorkOrder()
            {
                Name = Utils.GetNewId(),
                ServiceAccount = "Alpine Ski House (sample)",
                WorkOrderType = new WorkOrderType("Diagnose and Repair"),
                CustomerAsset = new Asset("Hydraulic Power Unit #3"),
                SystemStatus = new SystemStatus("Unscheduled")
            });
    }

    public void OnQuickCreateCompleted(WorkOrder workOrder)
    {
        App.WorkOrders[workOrder.Name] = workOrder;
        ShowCard("Details", workOrder);
    }
}